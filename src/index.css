:root {
  --bg: #f7f7f7;
  --fg: #222;
  --primary: #2f73ff;
  --border: #ccc;
  --given: #333;
  --editable: #0b57d0;
  --error: #e53935;
}

* { box-sizing: border-box; }

html, body, #root { height: 100%; }
body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color: var(--fg); background: var(--bg); }

.app { max-width: 1100px; margin: 0 auto; padding: 16px; display: flex; flex-direction: column; gap: 12px; }

h1 { font-size: 20px; margin: 0; }

.sudoku-header{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.06)}
.header-group{display:flex;gap:8px;align-items:center}
.group-label{font-weight:600;color:#6b7280;margin-right:4px;padding:0 6px}

.main { display: grid; grid-template-columns: 1fr; gap: 12px; align-items: start; }
.sudoku-main{display:grid;grid-template-columns:1fr 320px;gap:16px;align-items:start}
@media (max-width:840px){.sudoku-main{grid-template-columns:1fr}}

.board { display: grid; grid-template-columns: repeat(9, minmax(48px, 1fr)); gap: 0; width: min(100%, 540px); background: #000; padding: 2px; border-radius: 8px; margin: 0 auto; }
.cell-wrap { position: relative; }
.cell-wrap::after { content: ''; position: absolute; inset: 0; border: 1px solid #bbb; pointer-events: none; }
.cell-wrap.box-v::after { border-right: 2px solid #000; }
.cell-wrap.box-h:nth-child(n+19):nth-child(-n+27)::after,
.cell-wrap.box-h:nth-child(n+46):nth-child(-n+54)::after,
.cell-wrap.box-h:nth-child(n+73):nth-child(-n+81)::after { border-bottom: 2px solid #000; }

.cell { width: 100%; aspect-ratio: 1 / 1; display: grid; place-items: center; background: #fff; border: none; padding: 0; }
.cell.selected { outline: 2px solid var(--primary); outline-offset: -2px; z-index: 1; }
/* use overlay instead of background to avoid visual stacking artifacts */
.cell.peer { box-shadow: inset 0 0 0 9999px rgba(47,115,255,0.08); }
.cell.same { box-shadow: inset 0 0 0 9999px rgba(47,115,255,0.14); }
.cell.error { background: #ffe5e5; }
.cell.given .val { color: var(--given); font-weight: 700; }
.cell.editable .val { color: var(--editable); font-weight: 600; }
.cell .val { font-size: clamp(18px, 4.8vw, 28px); }

.cell .notes { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); width: 100%; height: 100%; padding: 4px; gap: 2px; }
.cell .note { font-size: clamp(8px, 2.2vw, 12px); color: #999; text-align: center; }
.cell .note.on { color: #555; }

.number-pad { display: grid; gap: 8px; }
.number-pad .digits { display: grid; grid-template-columns: repeat(3, minmax(40px, 1fr)); gap: 10px; }
.number-pad .pad-actions { display: grid; grid-template-columns: repeat(2, minmax(40px, 1fr)); gap: 6px; }
.pad-btn { position: relative; padding: 14px; border: 1px solid var(--border); background: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,.06); }
.pad-btn[disabled] { opacity: 0.4; }
.pad-badge { display:none; }
.pad-btn.on { background: var(--primary); color: #fff; border-color: var(--primary); }

.status-bar { display: flex; gap: 16px; justify-content: space-between; padding-top: 4px; color: #555; }

/* Unified button style for new header and side panel */
.btn{appearance:none;border:1px solid var(--border);background:#fff;color:var(--fg);padding:10px 14px;border-radius:10px;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,.06);transition:.15s}
.btn:hover{border-color:var(--primary);box-shadow:0 4px 14px rgba(47,115,255,.12)}
.btn:focus-visible,.pad-btn:focus-visible{outline:2px solid var(--primary);outline-offset:2px}
.btn:active{transform:translateY(1px)}
.btn--primary{background:var(--primary);border-color:var(--primary);color:#fff}

.side-panel{display:flex;flex-direction:column;gap:12px;background:#fff;border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 2px 10px rgba(0,0,0,.06)}
.panel-section{display:grid;gap:10px}
.panel-actions{display:grid;grid-auto-flow:column;grid-auto-columns:1fr}
.panel-status{margin-top:auto;padding-top:8px;border-top:1px dashed var(--border);display:flex;justify-content:space-between;color:#555}

/* Mobile optimizations */
@media (max-width: 480px) {
  .app { padding: 8px; gap: 8px; }
  .sudoku-header { flex-wrap: wrap; gap: 8px 12px; padding: 10px; }
  .header-group { flex-wrap: wrap; }
  .board { width: 100%; }
  .side-panel { width: 100%; padding: 10px; gap: 10px; }
  .number-pad .digits { grid-template-columns: repeat(3, 1fr); gap: 8px; }
  .number-pad .pad-actions { grid-template-columns: repeat(2, 1fr); gap: 8px; }
  .btn, .pad-btn { padding: 10px 12px; min-height: 44px; }
}
